<script>
let rotina = [];

function renderRotina() {
  const container = document.getElementById('rotinaLista');
  container.innerHTML = '';

  rotina.forEach((item, index) => {
    const timeDiv = document.createElement('div');
    timeDiv.className = 'agenda-time';
    timeDiv.textContent = `${item.inicio} - ${item.fim}`;

    const contentDiv = document.createElement('div');
    contentDiv.className = 'agenda-content';

    const title = document.createElement('div');
    title.textContent = item.atividade;

    const desc = document.createElement('div');
    desc.className = 'descricao';
    desc.textContent = item.descricao;

    const btnDesc = document.createElement('button');
    btnDesc.className = 'minimal-btn';
    btnDesc.textContent = '✏️';
    btnDesc.title = 'Adicionar descrição';
    btnDesc.onclick = () => {
      const novaDesc = prompt('Descrição para esta atividade:', item.descricao);
      if (novaDesc !== null) {
        item.descricao = novaDesc;
        renderRotina();
      }
    };

    const btnRemover = document.createElement('button');
    btnRemover.className = 'minimal-btn';
    btnRemover.textContent = '🗑️';
    btnRemover.title = 'Remover';
    btnRemover.onclick = () => {
      rotina.splice(index, 1);
      renderRotina();
    };

    contentDiv.appendChild(title);
    if (item.descricao) contentDiv.appendChild(desc);
    contentDiv.appendChild(btnDesc);
    contentDiv.appendChild(btnRemover);

    container.appendChild(timeDiv);
    container.appendChild(contentDiv);
  });
}
</script>
